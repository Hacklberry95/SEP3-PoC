@page "/Picker"
@using ClientFramework.Data
@using ClientFramework.REST

@inject NavigationManager NavigationManager
@inject AuthenticationStateProvider AuthenticationStateProvider
@inject Order Order
@inject Item Item
@inject Location Location

<h3>Picking</h3>

<p>
    @if (Order == null)
    {
        <p><em>Loading...</em></p>
    }
    else
    {
        <table class="table">
            <thead>
            <tr>
                <th>Location</th>
                <th>Order ID</th>
                <th>Item ID</th>
                <th>Item name</th>
                <th>Amount to pick</th>
            </tr>
            </thead>
            <tbody>
            @foreach (var order in orders)
            {
                <tr>
                    <td>@order.Locations</td>
                    <td>@order.Id</td>
                    <td>@order.Items</td>
                    <td>@order.ItemCounts</td>
                </tr>
            }
            </tbody>
        </table>
        <input type="number" id="id" name="id" @bind-value="itemId">
        <button onclick="@ConfirmPick()">Confirm pick</button>
        //<button onclick="@SkipItem()">Skip</button>
    }
</p>
@code {
    private List<Order> orders;
    private int itemId;

    public async Task ConfirmPick()
    {
        CustomHTTPRequests requests = new CustomHTTPRequests();
        await requests.PostConfirmation(itemId);
    }

    public void SkipItem()
    {
        
    }
}